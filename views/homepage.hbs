{{!-- css link --}}
<link rel="stylesheet" href="/css/home.css">

<div class="container" id="MainBody">
    <div class="row mt-5">
        {{!--profile section in feedpost starts here--}}
        <div class="col-md-3 border rounded" id="profileSection1">
            <div class="mt-4 py-2 sticky-top" id="height1">
                <span><img id="profileImageL" src="/images/profile.jpeg" alt="img"></span>
                <p id="userProfileName">{{profileName}}</p>
                <p id="userName">{{email}}</p>
                <span id="skillText"><b>Skills: </b></span>
                {{#each Skills}}
                <ul id="userSkills">
                    <li>{{this}}</li>
                </ul>
                {{/each}}
                <div>
                    <ul style="list-style-type: none;" id="friendlistSuggestion">
                        <li><span>Followers: </span> <b>{{followers}}</b></li>
                        <li> <span>Following: </span> <b>{{following}}</b> </li>
                        <li> <span>Post: </span> <b>{{numberOfPosts}}</b> </li>
                    </ul>
                </div>
            </div>
        </div>
        {{!--profile section ends here--}}

        {{!--post section for posting image, video and status in feed-post starts here--}}
        <div class="col-md-5 mx-2" id="middle-section">
            <div class="row border rounded">
                {{!-- <form class="form-group"> --}}
                <form action="/" method="post" enctype="multipart/form-data" class="form-group">
                    <div class="">
                        <textarea title="text" name="usersPost" class="form-control" id="postMessage" cols="50" rows="3"
                            placeholder="Write your thoughts here..."></textarea>
                    </div>

                    {{!--displaying image icon--}}
                    <div class="mx-4 mt-4">
                        {{!--inserting image/video/file through icons--}}
                        <label for="image-input" class="mx-4">
                            <i class="fa fa-camera fa-2x" aria-hidden="true"></i>
                        </label>
                        <input style="display: none;" type="file" name="imagefile" id="image-input"
                            accept="image/jpeg, image/jpg, image/png, image/*" />

                        {{!--displaying video icon--}}
                        <label for="video-input" class="mx-4">
                            <i class="fas fa-photo-video fa-2x"></i>
                        </label>
                        <input style="display: none;" type="file" name="videofile" id="video-input"
                            accept="video/mp4, video/x-m4v, video/*" />

                        {{!--displaying file icon--}}
                        <label for="file-input" class="mx-4">
                            <i class="far fa-file fa-2x"></i>
                        </label>
                        <input style="display: none;" type="file" name="pdffile" id="file-input"
                            accept="application/pdf" />

                        <button style="float: right;" type="submit" class="btn btn-dark btn-sm mx-2"
                            id="postButton">Post</button>
                    </div>
                </form>
            </div>
            {{!--post section in feed post ends here--}}

            <!--displaying post-->
            {{#each userData}}
            <div class="border rounded mt-5">
                <div class="border round">
                    <span> <img id="profileImage" src="/images/profile.jpeg" alt=""></span>
                    <span id="myUserName"> {{this.name}} </span><br>
                    <span id="postTime">{{this.date}}</span>
                </div>

                <div class="border round">
                    <p id="userPost" class="">
                        {{this.post}}
                    </p>
                    {{#if this.imageUrl}}
                    <div class="border round" id="postImage">
                        <img id="imagePost" src="{{this.imageUrl}}" alt="" />
                    </div>
                    {{/if}}
                    <hr>

                    {{!-- like button --}}
                    {{!-- <span class="mx-4">
                        <button type="submit" id="likeButton" onclink="updateLikes()">
                            <span class=""><i class="far fa-thumbs-up buttonx"></i></span>
                        </button>
                        <span id="shareButton"id="likeCounter">10</span>
                    </span> 
                    --}}
                    <div class="imageIcon">
                        <a class="btn likeButton" id="like-id-{{this._id}}" userId="{{this._id}}">
                            {{!-- {{#if this.}}
                            <span style="color:blue font-size:18px"><i class="fa fa-thumbs-o-up"
                                    aria-hidden="true"></i></span> --}}
                            {{!-- {{else}} --}}
                            <span style="color:black font-size:16px"><i class="fa fa-thumbs-o-up"
                                    aria-hidden="true"></i></span>
                            {{!-- {{/if}} --}}
                        </a>
                        <span id="likes-count-{{ this._id }}">{{ this.likedBy.length}}</span>


                        <a class="btn commentButton " id="comment-id-{{this._id}}"}}>
                            <i class="far fa-comments buttonx" aria-hidden="true"></i>
                        </a>
                        <span id="comment-count-{{ this._id }}" class="cButton">{{ this.comments.length}}</span>

                        <a class="btn shareButton">
                            <i class="fas fa-share buttony" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div>
                        {{!-- action="/comment"   --}}
                        <form class="form-group" method="post" enctype="multipart/form-data">
                            <div class="commentBox">
                                <input class="commentTextBox border round" type="text" id="id-{{this._id}}" name="addComment" placeholder="Add a comment here...">
                                {{!-- <textarea class="commentTextBox border round"  name="messageText" rows="1" cols="40" placeholder="Add a comment here..."></textarea> --}}
                                <button type="submit" class="btn btn-secondary btn-sm commentPostButton" userCommentId="{{this._id}}">Post</button>
                            </div>
                        </form>
                        {{#if this.comments}}
                        <div>
                            <ul style="list-style: none; font-size: 12px; margin-left: -25px;">
                                {{#each this.comments}}
                                <li>
                                    <span class="commetedByList" ><b>{{this.commentedBy}}: </b></span>
                                    <span> {{this.comment}}</span>
                                </li>
                                {{/each}}
                            </ul>
                        </div>
                        {{/if}}
                    </div>
                </div>

            </div>
            {{/each}}
        </div>


        <div class="col-md-3 border rounded ml-2" id="right-section">
            <div class="py-2 sticky-top">
                <div class="mt-3 ml-2">
                    <h6 id="article-heading">TOP ARTICLES AND NEWS</h6>
                </div>
                <ul id="trending-topics">
                    <li> <a href="#">Trending-topic-one</a></li>
                    <hr>
                    <li> <a href="#">Trending-topic-two</a></li>
                    <hr>
                    <li> <a href="#">Trending-topic-three</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>